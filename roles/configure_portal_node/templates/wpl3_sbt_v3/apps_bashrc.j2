# .bashrc

# This file was generated by ansible


# Source global definitions
if [ -f /etc/bashrc ]; then
	. /etc/bashrc
fi

# User specific aliases and functions


# general
alias logs="tail -F -n 0 ~/product-data/package/appdir.8080/logs/*"
alias logs-publishing="tail -F -n 0 ~/product-data/logs/{app.out,publishing}"


# aliases for wpl3_sbt
{% if environment_type == 'production' %}
alias start-application="for i in \`seq 10 -1 1\`; do echo \"CAUTION! application will be restarted in \$i sec\"; sleep 1; done; stop-application ; java -jar /111//product-data/package/launcher.jar --locate @/111//product-data/conf/sbt.conf && echo application has been started && logs"
{% elif delayed_start_script == 'true' %}
alias start-application="for i in \`seq 10 -1 1\`; do echo \"CAUTION! application will be restarted in \$i sec\"; sleep 1; done; stop-application ; java -jar /111//product-data/package/launcher.jar --locate @/111//product-data/conf/sbt.conf && echo application has been started && logs"
{% else %}
alias start-application="stop-application; java -jar /111//product-data/package/launcher.jar --locate @/111//product-data/conf/sbt.conf && echo application has been started && logs"
{% endif %}

alias conf-app="vi /111//product-data/conf/app.conf"
alias conf-sbt="vi /111//product-data/conf/sbt.conf"
alias conf-boot="vi /111//product-data/conf/wpl.boot.properties"

export TERM=xterm

# cluster checks
alias show-cluster-conf='cat ~/product-data/conf/current/build.properties ~/product-data/conf/current/app-application-6.1.1-ce-ga2/application-ext.properties ~/product-data/package/launcher/conf/common/app-application-6.1.1-ce-ga2/tomcat-7.0.27/webapps/ROOT/WEB-INF/classes/platform/ehcache/jgroups_hibernate_channel.xml ~/product-data/package/launcher/conf/common/app-application-6.1.1-ce-ga2/tomcat-7.0.27/webapps/ROOT/WEB-INF/classes/platform/ehcache/jgroups_multi_vm_channel.xml ~/product-data/package/build.xml | more'
alias show-cluster-members='echo "get -b JGroupsReplication:type=protocol,cluster=app-multi-vm-clustered,protocol=UNICAST Members" | java -jar ~/stuff/jmxterm-1.0-alpha-4-uber.jar -l localhost:{{ jmxremote_port }} -v silent -n'
alias show-cluster-numbers='echo "get -b JGroupsReplication:cluster=app-multi-vm-clustered,protocol=GMS,type=protocol NumMembers" | java -jar ~/stuff/jmxterm-1.0-alpha-4-uber.jar -l localhost:{{ jmxremote_port }} -v silent -n'

# stuff
alias healthcheck="curl localhost:8080/healthCheck"


{% if environment_type == 'dev' %}
# colored with green command-line
export PS1="\[\e[1;32m\][\u@\h \W]$\[\e[0m\] "
{% endif %}


{% if environment_type == 'test' %}
# colored with red command-line
export PS1="\[\e[1;32m\][\u@\h \W]$\[\e[0m\] "
{% endif %}


{% if environment_type == 'staging' %}
# colored with red command-line
export PS1="\[\e[0;35m\][\u@\h \W]$\[\e[0m\] "
{% endif %}


{% if environment_type == 'production' %}
# colored with red command-line
export PS1="\[\e[0;31m\][\u@\h \W]$\[\e[0m\] "
{% endif %}